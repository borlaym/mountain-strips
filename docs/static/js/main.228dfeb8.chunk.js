(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,n){t.exports=n(37)},27:function(t,e,n){},28:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var o,r=n(0),a=n.n(r),i=n(4),c=n.n(i),s=(n(27),n(3)),l=n(19),u=n(6),d=n(7),p=n(9),v=n(8),f=n(10),S=n(1);n(28);!function(t){t[t.Wood=0]="Wood",t[t.Stone=1]="Stone",t[t.Ore=2]="Ore",t[t.Silver=3]="Silver",t[t.DoubleSilver=4]="DoubleSilver"}(o||(o={}));var h=n(2),m=n(15);function g(){var t=Object(S.a)(["\n\tleft: auto;\n\tright: -","px;\n"]);return g=function(){return t},t}function b(){var t=Object(S.a)(["\n\twidth: ","px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tleft: -","px;\n\theight: 80px;\n"]);return b=function(){return t},t}function y(){var t=Object(S.a)(["\n\tposition: relative;\n\twidth: 100%; \n\t","\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return y=function(){return t},t}var O=100,k=90,w=h.a.div(y(),function(t){return t.swiping?"":"transition: all 0.5s"}),x=h.a.div(b(),O,O),W=Object(h.a)(x)(g(),O),j=function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(p.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(r)))).state={swiping:!1,x:0},n.handlePan=function(t){var e=t.deltaX<0?Math.max(t.deltaX,-O):Math.min(t.deltaX,O);n.setState({x:e,swiping:!0})},n.handlePanEnd=function(t){n.state.x<-k&&n.props.onRightAction(),n.state.x>k&&n.props.onLeftAction(),n.setState({x:0,swiping:!1})},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.createElement(m.a,{onPan:this.handlePan,onPanEnd:this.handlePanEnd,onTap:this.props.onRightAction},r.createElement(w,{style:{left:this.state.x+"px"},swiping:this.state.swiping},r.createElement(x,null,"Undo"),this.props.children,r.createElement(W,null,"Take")))}}]),e}(r.Component);function D(){var t=Object(S.a)(["\n\topacity: ",";\n\ttransition: all 0.8s;\n"]);return D=function(){return t},t}function E(){var t=Object(S.a)(["\n\t/* margin-bottom: 15px; */\n\theight: ",";\n\tbackground: url('/strip.png');\n\tbackground-size: fixed;\n\tdisplay: flex;\n\twidth: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: all 1s;\n\n\t",";\n\n"]);return E=function(){return t},t}function A(t){switch(t){case o.Wood:return"/wood.png";case o.Stone:return"/stone.png";case o.Ore:return"/ore.png";case o.DoubleSilver:return"/silvers.png";case o.Silver:return"/silver.png"}}var M=h.a.div(E(),function(t){return t.removed?"0px":"80px"},function(t){return t.removed&&"\n\t\timg {\n\t\t\topacity: 0;\n\t\t}\n\t"}),T=h.a.img(D(),function(t){return t.taken?"0.3":"1"});function P(t){return r.createElement(j,{onLeftAction:t.onUndoAction,onRightAction:t.onTakeAction},r.createElement(M,{removed:t.strip.removed},t.strip.layout.map(function(e,n){return r.createElement(T,{key:n,src:A(e),taken:t.strip.taken>n})})))}var C=[[o.Wood,o.Wood,o.Wood,o.Stone,o.Ore,o.Ore,o.DoubleSilver],[o.Wood,o.Wood,o.Stone,o.Stone,o.Stone,o.Ore,o.DoubleSilver],[o.Wood,o.Wood,o.Wood,o.Wood,o.Stone,o.Ore,o.DoubleSilver],[o.Wood,o.Wood,o.Wood,o.Wood,o.Stone,o.Stone,o.DoubleSilver],[o.Wood,o.Wood,o.Stone,o.Stone,o.Ore,o.Ore,o.DoubleSilver],[o.Wood,o.Wood,o.Wood,o.Stone,o.Stone,o.Stone,o.DoubleSilver],[o.Wood,o.Wood,o.Wood,o.Stone,o.Stone,o.Ore,o.DoubleSilver],[o.Wood,o.Wood,o.Stone,o.Ore,o.Ore,o.DoubleSilver,o.DoubleSilver]];function J(){return function(t){for(var e,n,o=t.length;0!==o;)n=Math.floor(Math.random()*o),e=t[o-=1],t[o]=t[n],t[n]=e;return t}(C.map(function(t){return{layout:t,taken:0,removed:!1}}))}function U(){var t=Object(S.a)(["\n\tdisplay: flex;\n\tmargin: 15px;\n\tpadding: 15px;\n\ttext-align: center;\n\tbackground: green;\n\tcolor: white;\n"]);return U=function(){return t},t}function G(){var t=Object(S.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow-x: hidden;\n"]);return G=function(){return t},t}var I=h.a.div(G()),N=h.a.button(U()),R=function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(p.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(r)))).state={stripDeck:J(),activeStrips:[]},n.newGame=function(){var t=J(),e=Object(l.a)(t),o=e[0],r=e[1],a=e.slice(2);n.setState({activeStrips:[o,r],stripDeck:a})},n.take=function(t){var e=Math.min(n.state.activeStrips[t].layout.length,n.state.activeStrips[t].taken+1);n.setState({activeStrips:[].concat(Object(s.a)(n.state.activeStrips.slice(0,t)),[{layout:n.state.activeStrips[t].layout,taken:e,removed:n.state.activeStrips[t].removed}],Object(s.a)(n.state.activeStrips.slice(t+1)))})},n.undo=function(t){var e=Math.max(0,n.state.activeStrips[t].taken-1);n.setState({activeStrips:[].concat(Object(s.a)(n.state.activeStrips.slice(0,t)),[{layout:n.state.activeStrips[t].layout,taken:e,removed:n.state.activeStrips[t].removed}],Object(s.a)(n.state.activeStrips.slice(t+1)))})},n.nextTurn=function(){var t=n.state.stripDeck[0],e=n.state.activeStrips.map(function(t){return{layout:t.layout,taken:Math.min(t.taken+1,t.layout.length),removed:Math.min(t.taken+1,t.layout.length)===t.layout.length}});n.setState({activeStrips:t?e.concat(t):e,stripDeck:n.state.stripDeck.slice(1)})},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(){window.localStorage.setItem("state",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var t=window.localStorage.getItem("state");if(t)try{var e=JSON.parse(t);this.setState(e)}catch(n){console.error(n)}}},{key:"render",value:function(){var t=this;return r.createElement(I,null,this.state.activeStrips.map(function(e,n){return r.createElement(P,{key:e.layout.join(""),strip:e,onTakeAction:function(){return t.take(n)},onUndoAction:function(){return t.undo(n)}})}),r.createElement(N,{onClick:this.nextTurn},"End of Turn"),r.createElement(N,{onClick:this.newGame},"New Game"))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.228dfeb8.chunk.js.map